var app=angular.module("admin",["ngRoute","ngAnimate","ngMessages","ui.bootstrap","angular-loading-bar","http-auth-interceptor","gettext","tmh.dynamicLocale","colorpicker.module","ngSanitize"]);app.config(["$httpProvider","$routeProvider","$locationProvider","$provide","cfpLoadingBarProvider","tmhDynamicLocaleProvider","$sceDelegateProvider",function(e,t,a,s,l,p,r){e.defaults.useXDomain=!0,delete e.defaults.headers.post["Content-Type"],l.latencyThreshold=300,l.includeSpinner=!1,p.localeLocationPattern("https://cdnjs.cloudflare.com/ajax/libs/angular-i18n/1.5.5/angular-locale_{{locale}}.js"),t.when("/",{templateUrl:"/app/pages/getting_started/index.html",reloadOnSearch:!1}),t.when("/products",{templateUrl:"/app/pages/products/list.html",reloadOnSearch:!1}),t.when("/products/add",{templateUrl:"/app/pages/products/set.html",reloadOnSearch:!0}),t.when("/products/:id/edit",{templateUrl:"/app/pages/products/set.html",reloadOnSearch:!0}),t.when("/promotions",{templateUrl:"/app/pages/promotions/list.html",reloadOnSearch:!1}),t.when("/promotions/add",{templateUrl:"/app/pages/promotions/set.html",reloadOnSearch:!0}),t.when("/promotions/:id/edit",{templateUrl:"/app/pages/promotions/set.html",reloadOnSearch:!0}),t.when("/gateways",{templateUrl:"/app/pages/gateways/list.html",reloadOnSearch:!1}),t.when("/gateways/add",{templateUrl:"/app/pages/gateways/set.html",reloadOnSearch:!0}),t.when("/gateways/:id/edit",{templateUrl:"/app/pages/gateways/set.html",reloadOnSearch:!0}),t.when("/templates",{templateUrl:"/app/pages/templates/list.html",reloadOnSearch:!1}),t.when("/templates/add",{templateUrl:"/app/pages/templates/set.html",reloadOnSearch:!0}),t.when("/templates/:id/edit",{templateUrl:"/app/pages/templates/set.html",reloadOnSearch:!0}),t.when("/events",{templateUrl:"/app/pages/events/list.html",reloadOnSearch:!1}),t.when("/events/:id",{templateUrl:"/app/pages/events/view.html",reloadOnSearch:!0}),t.when("/event_subscriptions",{templateUrl:"/app/pages/event_subscriptions/list.html",reloadOnSearch:!1}),t.when("/event_subscriptions/add",{templateUrl:"/app/pages/event_subscriptions/set.html",reloadOnSearch:!0}),t.when("/event_subscriptions/:id/edit",{templateUrl:"/app/pages/event_subscriptions/set.html",reloadOnSearch:!0}),t.when("/templates/:id/edit",{templateUrl:"/app/pages/templates/set.html",reloadOnSearch:!0}),t.when("/notification_subscriptions",{templateUrl:"/app/pages/notification_subscriptions/list.html",reloadOnSearch:!1}),t.when("/notification_subscriptions/add",{templateUrl:"/app/pages/notification_subscriptions/set.html",reloadOnSearch:!0}),t.when("/notification_subscriptions/:id/edit",{templateUrl:"/app/pages/notification_subscriptions/set.html",reloadOnSearch:!0}),t.when("/subscription_plans",{templateUrl:"/app/pages/subscription_plans/list.html",reloadOnSearch:!1}),t.when("/subscription_plans/add",{templateUrl:"/app/pages/subscription_plans/set.html",reloadOnSearch:!0}),t.when("/subscription_plans/:id/edit",{templateUrl:"/app/pages/subscription_plans/set.html",reloadOnSearch:!0}),t.when("/license_services",{templateUrl:"/app/pages/license_services/list.html",reloadOnSearch:!1}),t.when("/license_services/add",{templateUrl:"/app/pages/license_services/set.html",reloadOnSearch:!0}),t.when("/license_services/:id/edit",{templateUrl:"/app/pages/license_services/set.html",reloadOnSearch:!0}),t.when("/license_requests",{templateUrl:"/app/pages/license_requests/list.html",reloadOnSearch:!1}),t.when("/license_requests/:id",{templateUrl:"/app/pages/license_requests/view.html",reloadOnSearch:!0}),t.when("/images",{templateUrl:"/app/pages/images/list.html",reloadOnSearch:!1}),t.when("/images/add",{templateUrl:"/app/pages/images/add.html",reloadOnSearch:!0}),t.when("/images/:id",{templateUrl:"/app/pages/images/view.html",reloadOnSearch:!0}),t.when("/files",{templateUrl:"/app/pages/files/list.html",reloadOnSearch:!1}),t.when("/files/add",{templateUrl:"/app/pages/files/add.html",reloadOnSearch:!0}),t.when("/files/:id/edit",{templateUrl:"/app/pages/files/edit.html",reloadOnSearch:!0}),t.when("/hosted_functions",{templateUrl:"/app/pages/hosted_functions/list.html",reloadOnSearch:!1}),t.when("/hosted_functions/add",{templateUrl:"/app/pages/hosted_functions/add.html",reloadOnSearch:!0}),t.when("/hosted_functions/:id/edit",{templateUrl:"/app/pages/hosted_functions/edit.html",reloadOnSearch:!0}),t.when("/shipments",{templateUrl:"/app/pages/shipments/list.html",reloadOnSearch:!1}),t.when("/shipments/:id",{templateUrl:"/app/pages/shipments/view.html",reloadOnSearch:!1}),t.when("/orders",{templateUrl:"/app/pages/orders/list.html",reloadOnSearch:!1}),t.when("/orders/:id",{templateUrl:"/app/pages/orders/view.html",reloadOnSearch:!1}),t.when("/payments",{templateUrl:"/app/pages/payments/list.html",reloadOnSearch:!1}),t.when("/payments/add",{templateUrl:"/app/pages/payments/add.html",reloadOnSearch:!1}),t.when("/payments/:id",{templateUrl:"/app/pages/payments/view.html",reloadOnSearch:!0}),t.when("/refunds",{templateUrl:"/app/pages/refunds/list.html",reloadOnSearch:!1}),t.when("/refunds/:id",{templateUrl:"/app/pages/refunds/view.html",reloadOnSearch:!0}),t.when("/subscriptions",{templateUrl:"/app/pages/subscriptions/list.html",reloadOnSearch:!1}),t.when("/subscriptions/:id",{templateUrl:"/app/pages/subscriptions/view.html",reloadOnSearch:!0}),t.when("/apps",{templateUrl:"/app/pages/apps/list.html",reloadOnSearch:!1}),t.when("/apps/add",{templateUrl:"/app/pages/apps/set.html",reloadOnSearch:!0}),t.when("/apps/:id/edit",{templateUrl:"/app/pages/apps/set.html",reloadOnSearch:!0}),t.when("/app_installations",{templateUrl:"/app/pages/app_installations/list.html",reloadOnSearch:!1}),t.when("/app_installations/:id",{templateUrl:"/app/pages/app_installations/view.html",reloadOnSearch:!0}),t.when("/app_installations/:id/settings",{templateUrl:"/app/pages/app_installations/settings.html",reloadOnSearch:!0}),t.when("/app_installations/:id/style",{templateUrl:"/app/pages/app_installations/style.html",reloadOnSearch:!0}),t.when("/app_packages/:id/edit",{templateUrl:"/app/pages/app_packages/set.html",reloadOnSearch:!0}),t.when("/carts",{templateUrl:"/app/pages/carts/list.html",reloadOnSearch:!1}),t.when("/carts/:id",{templateUrl:"/app/pages/carts/view.html",reloadOnSearch:!0}),t.when("/invoices",{templateUrl:"/app/pages/invoices/list.html",reloadOnSearch:!1}),t.when("/invoices/add",{templateUrl:"/app/pages/invoices/set.html",reloadOnSearch:!0}),t.when("/invoices/:id",{templateUrl:"/app/pages/invoices/set.html",reloadOnSearch:!0}),t.when("/customers",{templateUrl:"/app/pages/customers/list.html",reloadOnSearch:!1}),t.when("/customers/:id",{templateUrl:"/app/pages/customers/view.html",reloadOnSearch:!0}),t.when("/auths",{templateUrl:"/app/pages/auths/list.html",reloadOnSearch:!1}),t.when("/auths/add",{templateUrl:"/app/pages/auths/set.html",reloadOnSearch:!0}),t.when("/auths/:id/edit",{templateUrl:"/app/pages/auths/set.html",reloadOnSearch:!0}),t.when("/account/edit",{templateUrl:"/app/pages/accounts/update.html",reloadOnSearch:!0}),t.when("/profile",{templateUrl:"/app/pages/profile/update.html",reloadOnSearch:!0}),t.when("/dashboard",{templateUrl:"/app/pages/dashboard/view.html",reloadOnSearch:!1}),t.when("/reports/sales",{templateUrl:"/app/pages/reports/sales.html",reloadOnSearch:!1}),t.when("/reports/items",{templateUrl:"/app/pages/reports/items.html",reloadOnSearch:!1}),t.when("/reports/fees",{templateUrl:"/app/pages/reports/fees.html",reloadOnSearch:!1}),t.when("/reports/commissions",{templateUrl:"/app/pages/reports/commissions.html",reloadOnSearch:!1}),t.when("/settings/general",{templateUrl:"/app/pages/settings/general.html",reloadOnSearch:!1}),t.when("/settings/payment",{templateUrl:"/app/pages/settings/payment.html",reloadOnSearch:!1}),t.when("/settings/fulfillment",{templateUrl:"/app/pages/settings/fulfillment.html",reloadOnSearch:!1}),t.when("/settings/analytics",{templateUrl:"/app/pages/settings/analytics.html",reloadOnSearch:!1}),t.when("/settings/technical",{templateUrl:"/app/pages/settings/technical.html",reloadOnSearch:!1}),t.when("/settings/subscriptions",{templateUrl:"/app/pages/settings/subscriptions.html",reloadOnSearch:!1}),t.when("/settings/tax",{templateUrl:"/app/pages/settings/tax.html",reloadOnSearch:!1}),t.when("/settings/pricing",{templateUrl:"/app/pages/settings/pricing.html",reloadOnSearch:!1}),t.when("/shipping_methods",{templateUrl:"/app/pages/shipping_methods/list.html",reloadOnSearch:!1}),t.when("/shipping_methods/add",{templateUrl:"/app/pages/shipping_methods/set.html",reloadOnSearch:!0}),t.when("/shipping_methods/:id/edit",{templateUrl:"/app/pages/shipping_methods/set.html",reloadOnSearch:!0}),t.when("/users",{templateUrl:"/app/pages/users/list.html",reloadOnSearch:!1}),t.when("/users/add",{templateUrl:"/app/pages/users/set.html",reloadOnSearch:!0}),t.when("/users/:id/edit",{templateUrl:"/app/pages/users/set.html",reloadOnSearch:!0}),t.when("/notifications",{templateUrl:"/app/pages/notifications/list.html",reloadOnSearch:!1}),t.when("/notifications/:id",{templateUrl:"/app/pages/notifications/view.html",reloadOnSearch:!0}),t.when("/notifications/:id/preview",{templateUrl:"/app/pages/notifications/preview.html"}),e.interceptors.push(["$q","$rootScope",function(e,t){return{request:function(e){if(e.headers=e.headers||{},1==e.isApi){var t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer "+t)}return e.headers["Content-Type"]||e.isMultipart||(e.headers["Content-Type"]="application/json"),e},response:function(e){return e},responseError:function(t){return 0!=angular.isObject(t.data)&&t.data.error?403===t.data.error.status?(t.data.error.message="You do not have permission to perform the requested action. Please contact an account administrator for assistance.",e.reject(t)):(401===t.data.error.status&&localStorage.removeItem("token"),e.reject(t)):(t.data={},t.data.error={},t.data.error.message="An unknown error occurred. Please try your request again. If the problem persists, please contact support.",e.reject(t))}}}])}]),app.run(["$rootScope","$route","$templateCache","$location","ApiService","SettingsService","GrowlsService","gettextCatalog","tmhDynamicLocale",function(e,t,a,s,l,p,r,n,i){var o="api.comecero.com";window.location.hostname.indexOf("admin-staging.")>-1&&(o="api-staging.comecero.com"),e.apiHost=o;var h="signin.comecero.com";if(null!=localStorage.getItem("alias")){var h=localStorage.getItem("alias")+".auth.comecero.com";window.location.hostname.indexOf("admin-staging.")>-1&&(h=localStorage.getItem("alias")+".auth-staging.comecero.com")}e.authHost=h;var m="en";null!=localStorage.getItem("language")&&(m=localStorage.getItem("language")),"en"!=m&&(n.loadRemote("/languages/"+m+"/"+m+".json"),n.setCurrentLanguage(m)),i.set(utils.getLocale(m)),p.setUserSettings(),e.$watch("settings.test",function(a,n){a!=n&&(1==a?(e.settings.test=!0,l.set(null,l.buildUrl("/auths/trusted"),{test:!0}).then(function(e){localStorage.setItem("token_live",localStorage.getItem("token")),localStorage.setItem("token",e.token),localStorage.setItem("test",!0),p.setAccountMeta().then(function(){s.search({}),t.reload()})},function(t){e.settings.test=!1,r.addGrowl({id:"switch_test_failure",type:"warning"})})):(e.settings.test=!1,localStorage.setItem("token",localStorage.getItem("token_live")),localStorage.setItem("test",!1),localStorage.removeItem("token_live"),p.setAccountMeta().then(function(){s.search({}),t.reload()})))})}]);